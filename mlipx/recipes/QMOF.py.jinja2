{% if standalone is not defined %}
{% set standalone = true %}
{% endif %}

{% if standalone %}
import mlipx
import zntrack
from models import MODELS

project = zntrack.Project()
{% endif %}



{% if n_mofs %}
n_mofs = {{ n_mofs }}
{% else %}
n_mofs = None
{% endif %}

print(f"Using {n_mofs} MOFs for QMOF benchmark" if n_mofs else "Using all MOFs for QMOF benchmark")

QMOF_node_dict = {}
QMOF_node_list = []

for model_name, model in MODELS_subset.items():
    with project.group(model_name):
        QMOF_benchmark = mlipx.QMOFBenchmark(
            model =model,
            model_name=model_name,
            n_mofs = 10,
        )
        QMOF_node_dict[model_name] = QMOF_benchmark
        QMOF_node_list.append(QMOF_benchmark)


{% if standalone %}
project.build()
{% endif %}